<!DOCTYPE html>
<html lang="ne">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>सामाजिक सुरक्षा भत्ता सम्बन्धी पत्र</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for A4 paper layout */
        body {
            font-family: 'Inter', sans-serif; /* Default font, browser will fallback for Nepali */
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .container-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        .form-container, .a4-paper {
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
            border-radius: 0.5rem; /* Rounded corners */
        }
        .form-container {
            width: 80%; /* Adjust width for form */
            max-width: 600px;
            padding: 20px;
        }
        .a4-paper {
            width: 210mm; /* A4 width (portrait) for screen view */
            min-height: 297mm; /* A4 height (portrait) for screen view */
            padding: 25mm; /* Standard A4 margins */
            display: flex;
            flex-direction: column;
            position: relative; /* Needed for absolute positioning of watermark */
        }
        input[type="text"], textarea, select {
            border: none;
            border-bottom: 1px dashed #000;
            outline: none;
            padding: 2px 0;
            font-size: inherit;
            font-family: inherit;
            width: auto; /* Allow input to size based on content or flex */
            min-width: 50px; /* Minimum width for inputs */
            text-align: left;
            background-color: transparent; /* Ensure background is transparent */
            border-radius: 0; /* Remove rounded corners for inputs */
        }
        input[type="text"]:focus, textarea:focus, select:focus {
            border-bottom: 1px solid #3B82F6; /* Highlight on focus */
        }
        /* Style for readonly/disabled inputs */
        input[readonly], input[disabled] {
            background-color: #f9f9f9;
            color: #555;
            border-bottom: 1px solid #ccc; /* Solid line for readonly */
        }

        /* Hide input borders and print button when printing */
        @media print {
            body {
                background-color: white;
                margin: 0;
                padding: 0;
            }
            .container-wrapper {
                flex-direction: column;
                align-items: center;
                gap: 0;
            }
            .form-container, .print-button-container, .back-button-container {
                display: none !important; /* Hide form, print, and back button */
            }
            .a4-paper {
                box-shadow: none;
                margin: 0;
                padding: 25mm; /* Maintain print margins */
                min-height: auto; /* Adjust height for print */
                /* Reverted to Portrait orientation for print */
                width: 210mm !important; /* A4 Portrait width */
                height: 297mm !important; /* A4 Portrait height */
                /* Ensure content fits within the portrait page */
                transform-origin: top left;
                transform: rotate(0deg); /* Reset rotation if any */
            }
            input[type="text"], textarea, select {
                border-bottom: none; /* Hide dashed line on print */
            }
            /* Ensure text aligns correctly in printed letter */
            .letter-content-text span {
                display: inline; /* Ensure spans don't break lines */
            }
            .letter-header-center {
                text-align: center;
            }
            /* Ensure logo is visible when printing */
            .logo-container {
                display: block !important; /* Ensure the container is a block */
                position: absolute !important; /* Maintain absolute positioning for print */
                left: 25mm !important; /* Align to left margin */
                top: 25mm !important; /* Align to top margin */
                width: auto !important; /* Allow it to take natural width */
                visibility: visible !important;
            }
            .logo-container img {
                display: block !important;
                visibility: visible !important;
                width: 80px !important; /* Updated fixed size for print */
                height: 80px !important; /* Updated fixed size for print */
            }
            .header-text-container {
                text-align: center !important;
                width: 100% !important; /* Ensure it takes full width for centering */
                margin-left: 0 !important; /* Reset margin */
            }
            .watermark-container {
                display: flex !important; /* Ensure watermark is visible */
            }
        }
        .flex-grow-1 { flex-grow: 1; }
        .flex-grow-2 { flex-grow: 2; }
        .flex-grow-3 { flex-grow: 3; }
        .flex-grow-4 { flex-grow: 4; }
        .flex-grow-5 { flex-grow: 5; }
        .required-field::after {
            content: '*';
            color: red;
            margin-left: 4px;
        }
        .text-justify {
            text-align: justify;
        }
        /* Adjust logo container for left alignment */
        .header-section {
            position: relative; /* For absolute positioning of logo */
            width: 100%;
            display: flex;
            flex-direction: column; /* Stack header text vertically */
            align-items: center; /* Center header text horizontally */
            margin-bottom: 1rem; /* Tailwind mb-4 */
        }
        .logo-container {
            position: absolute;
            left: 0; /* Align to the left edge of the header section */
            top: 0; /* Align to the top of the header section */
            z-index: 10; /* Ensure logo is above other elements if needed */
        }
        .header-text-container {
            flex-grow: 1; /* Allow text container to take available space */
            text-align: center; /* Center the text within its container */
            width: 100%; /* Ensure it spans full width to allow centering */
        }
        /* Custom spacing for Chalan No. and Sa.Su. Patra No. */
        .chalan-sasu-line {
            display: flex;
            align-items: center;
            justify-content: flex-start; /* Ensure left alignment */
            gap: 1cm; /* Approximately 1cm gap */
        }
        .chalan-sasu-line > div {
            display: flex;
            align-items: center;
        }
        .patra-sankhya-label, .miti-label, .chalan-no-label, .sasu-patra-no-label, .province-address {
            color: red;
            font-weight: bold;
        }
        .patra-sankhya-value, .miti-value, .chalan-no-value, .sasu-patra-no-value {
            color: black;
        }
        .signature-block {
            text-align: right; /* Align the entire block to the right */
            width: 100%; /* Take full width to allow internal centering */
            display: flex; /* Use flexbox for internal alignment */
            flex-direction: column; /* Stack items vertically */
            align-items: flex-end; /* Align all items to the right */
        }
        .signature-block p {
            width: 200px; /* Fixed width for signature elements */
            text-align: center; /* Center text within their fixed width */
        }
        .signature-line {
            display: block; /* Ensure it takes full width of its container */
        }
        /* Increased font size for office name */
        .office-name-display {
            font-size: 1.25rem; /* Tailwind's text-xl is 1.25rem, text-lg is 1.125rem. Making it bigger than text-lg. */
        }
        /* Watermark styles */
        .watermark-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none; /* Allows text selection/interaction through the watermark */
            z-index: 0; /* Ensures it's behind text */
        }
        .watermark-logo {
            width: 60%; /* Adjust size as needed */
            height: auto;
            opacity: 0.1; /* Make it faint */
            object-fit: contain;
        }
    </style>
</head>
<body class="selection:bg-blue-200">
    <div class="container-wrapper">
        <!-- Input Form Section -->
        <div id="inputForm" class="form-container p-6 mb-8 rounded-lg shadow-lg">
            <h2 class="text-xl font-bold mb-6 text-center text-gray-700">सामाजिक सुरक्षा पत्र विवरण</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="col-span-2">
                    <label for="officeName" class="block text-gray-700 text-sm font-bold mb-1 required-field">कार्यालयको नाम:</label>
                    <input type="text" id="officeName" class="w-full rounded-md px-3 py-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="उदाहरण: वडा कार्यालय"/>
                </div>
                <div class="col-span-2">
                    <label for="officeAddress" class="block text-gray-700 text-sm font-bold mb-1 required-field">कार्यालयको ठेगाना:</label>
                    <input type="text" id="officeAddress" class="w-full rounded-md px-3 py-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="उदाहरण: हटिया"/>
                </div>
                <div>
                    <label for="fiscalYear" class="block text-gray-700 text-sm font-bold mb-1 required-field">आ.व. (आर्थिक वर्ष):</label>
                    <select id="fiscalYear" class="w-full rounded-md px-3 py-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">आ.व. छान्नुहोस्</option>
                        <option value="२०७९/८०">२०७९/८०</option>
                        <option value="२०८०/८१">२०८०/८१</option>
                        <option value="२०८१/८२">२०८१/८२</option>
                        <option value="२०८२/८३">२०८२/८३</option>
                    </select>
                </div>
                <div>
                    <label for="patraSankhya" class="block text-gray-700 text-sm font-bold mb-1 required-field">पत्र संख्याः</label>
                    <input type="text" id="patraSankhya" class="w-full rounded-md px-3 py-2 border border-gray-300 bg-gray-100 text-gray-600" readonly placeholder="आ.व. छनोट गरेपछि स्वतः आउनेछ"/>
                </div>
                <div>
                    <label for="miti" class="block text-gray-700 text-sm font-bold mb-1 required-field">मितिः</label>
                    <input type="text" id="miti" class="w-full rounded-md px-3 py-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="YYYY/MM/DD (वि.सं.)" maxlength="10"/>
                </div>
                <div class="col-span-2 flex items-center">
                    <label for="chalanNo" class="block text-gray-700 text-sm font-bold mb-1 mr-2">च.नं.:</label>
                    <input type="text" id="chalanNo" class="w-24 rounded-md px-3 py-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-
