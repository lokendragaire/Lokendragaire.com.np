<!DOCTYPE html>
<html lang="ne">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Lokendra Gaire - Social Engagement</title>
    <meta name="description" content="Lokendra Gaire's social and community engagement." />
    <meta name="keywords" caontent="Lokendra Gaire, social engagement, community, politics, Nepal" />
    <link rel="canonical" href="https://lokendragaire.com.np/politicaleng.html" />
    <link rel="icon" type="image/x-xicon" href="assets/images/brp.jpg" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Lato:wght@400;700;400italic;700italic&display=swap" rel="stylesheet" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for social buttons and background colors not directly in Tailwind */
        .btn-social {
            /* Increased size: w-32 h-32 (96px) */
            /* Increased icon font size: text-5xl (3rem) */
            @apply inline-flex items-center justify-center w-32 h-32 rounded-full text-white text-5xl mx-1 transition-all duration-300 ease-in-out;
        }
        .btn-youtube { background-color: #FF0000; }
        .btn-youtube:hover { background-color: #cc0000; transform: scale(1.1); }
        .btn-facebook { background-color: #3b5998; }
        .btn-facebook:hover { background-color: #2d4373; transform: scale(1.1); }
        .btn-tiktok { background-color: #000000; }
        .btn-tiktok:hover { background-color: #333333; transform: scale(1.1); }
        .btn-linkedin { background-color: #0077B5; }
        .btn-linkedin:hover { background-color: #005582; transform: scale(1.1); }
        .btn-telegram { background-color: #0088cc; }
        .btn-telegram:hover { background-color: #006699; transform: scale(1.1); }
        .btn-meroshare { background-color: #4CAF50; } /* Example color */
        .btn-meroshare:hover { background-color: #45a049; transform: scale(1.1); }
        .btn-nepse { background-color: #f44336; } /* Example color */
        .btn-nepse:hover { background-color: #d32f2f; transform: scale(1.1); }
        .btn-map { background-color: #FFC107; color: #333; } /* Example color */
        .btn-map:hover { background-color: #e0a800; transform: scale(1.1); }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #FFFFFF; /* White background */
            color: #333; /* Dark text for contrast */
            min-height: 100vh; /* Ensure enough height for scrolling */
            display: flex;
            flex-direction: column;
        }
        main {
            flex: 1; /* Allow main content to grow and push footer down */
        }
        #mainNav {
            background-color: #FFC0CB; /* Pink background for navbar */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: padding-top 0.3s ease-in-out, padding-bottom 0.3s ease-in-out;
            z-index: 1000; /* Ensure navbar is on top */
        }
        #mainNav.navbar-shrink {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }
        #mainNav .navbar-brand {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: #228B22; /* Forest Green for brand */
        }
        #mainNav .nav-link {
            color: #333; /* Dark text for links */
            font-weight: 600;
            transition: color 0.3s ease-in-out;
        }
        #mainNav .nav-link:hover, #mainNav .nav-link.active {
            color: #228B22; /* Forest Green Accent */
        }
        header.masthead {
            /* Background image for the entire hero section */
            background-image: url('https://raw.githubusercontent.com/lokendragaire/Lokendragaire.com.np/main/brp.jpg'); /* Updated background image URL */
            background-size: contain; /* Ensures the entire image is visible without cropping */
            background-position: center;
            background-repeat: no-repeat;
            background-color: #cceeff; /* Changed to a slightly more blue color */
            
            padding: 8rem 0 0; /* Changed padding-bottom to 0 */
            text-align: center;
            position: relative;
            overflow: hidden;
            border-radius: 0 0 20px 20px; /* Rounded bottom corners */
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Overlay for text readability on background image */
        header.masthead::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4); /* Semi-transparent dark overlay */
            z-index: 1; /* Below content, above background image */
        }
        
        .masthead-content {
            z-index: 2; /* Ensure content is above the overlay */
            position: relative; /* Ensure z-index works */
            color: #FFFFFF; /* White text for contrast against potential dark image */
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5); /* Optional: add shadow for better readability */
        }
        .masthead-heading,
        .masthead-subheading,
        .masthead-bio,
        .masthead-content h2 { /* Targeting all text elements in masthead */
            color: #FFFFFF; /* Ensure all text within masthead is white */
        }

        .masthead-heading {
            font-size: 3.5rem;
            line-height: 1.2;
            margin-bottom: 0.5rem;
        }
        .masthead-subheading {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
        }
        .masthead-bio {
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }
        .social-links h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        .page-section {
            padding: 4rem 0;
            background-color: #FFFFFF;
        }
        .page-section h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 2rem;
            color: #228B22;
        }
        .footer {
            background-color: #F8F8F8;
            padding: 2rem 0;
            color: #333;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
        }
        .footer h4 {
            color: #228B22;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }
        .footer p.lead {
            color: #777;
            font-size: 0.95rem;
        }
        .copyright {
            background-color: #E6E6E6;
            color: #555;
            padding: 1rem 0;
            font-size: 0.8rem;
        }
        /* Custom styles for dropdown */
        .dropdown-menu {
            position: absolute;
            background-color: #FFC0CB; /* Same as navbar background */
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 8px;
            padding: 0.5rem 0;
            margin-top: 0.5rem; /* Space below the main nav item */
            left: 50%; /* Center dropdown relative to parent li */
            transform: translateX(-50%); /* Adjust for perfect centering */
        }
        .dropdown-menu a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            transition: background-color 0.3s ease;
        }
        .dropdown-menu a:hover {
            background-color: #e0e0e0; /* Lighter shade on hover */
            color: #228B22; /* Forest Green Accent */
        }

        /* Responsive adjustments */
        @media (max-width: 1023px) { /* For screens smaller than lg (1024px) */
            #mainNav .navbar-brand {
                margin-right: auto; /* Push brand to left */
            }
            #navbarResponsive {
                width: 100%; /* Full width when collapsed */
                flex-basis: 100%; /* Take full width */
                flex-grow: 1;
                align-items: flex-start; /* Align items to start */
            }
            #navbarResponsive ul {
                flex-direction: column; /* Stack items vertically */
                width: 100%; /* Full width for columns */
                margin-left: 0; /* Remove auto margin */
            }
            #navbarResponsive ul li {
                width: 100%; /* Full width for list items */
                text-align: left; /* Align text to left */
            }
            .dropdown-menu {
                position: static; /* Remove absolute positioning */
                transform: none; /* Remove transform */
                width: 100%; /* Make it full width */
                box-shadow: none; /* Remove shadow for cleaner look */
                border-radius: 0; /* Remove border-radius */
                margin-top: 0; /* Remove margin-top */
                background-color: #f0f0f0; /* Slightly different background for nested items */
            }
            .dropdown-menu a {
                padding-left: 2.5rem; /* Indent nested items */
            }
            .navbar-toggler {
                display: block; /* Show hamburger button on small screens */
            }
            .search-container {
                width: 100%; /* Full width for search on small screens */
                margin-top: 1rem; /* Add some space */
            }
            .search-container input { /* Adjust padding for icons */
                padding-right: 4.5rem; /* Make space for both search and clear icons */
            }
            .search-container #searchActionButton {
                right: 0.75rem; /* Adjust position for mobile */
            }
            .search-container #clearSearchIcon {
                right: 2.5rem; /* Adjust position for mobile */
            }
        }
        @media (min-width: 1024px) { /* For large screens (lg) and up */
            .navbar-toggler {
                display: none; /* Hide hamburger button on large screens */
            }
            #navbarResponsive {
                display: flex !important; /* Ensure it's flex on large screens */
            }
            .search-container {
                width: auto; /* Auto width on large screens */
                margin-top: 0;
                margin-left: 1rem; /* Space from other elements */
            }
            .search-container input {
                padding-right: 4.5rem; /* Space for both icons */
            }
            .search-container #searchActionButton {
                right: 0.75rem;
            }
            .search-container #clearSearchIcon {
                right: 2.5rem;
            }
        }
        .highlight {
            background-color: yellow;
            font-weight: bold;
        }
        /* Spinner styles */
        .spinner {
            border: 2px solid rgba(0, 0, 0, 0.1); /* Smaller border for smaller spinner */
            border-left-color: #228B22; /* Forest Green */
            border-radius: 50%;
            width: 16px; /* Smaller size */
            height: 16px; /* Smaller size */
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* New highlight styles for nav items and dropdown items */
        .nav-item-highlight {
            background-color: #a7f3d0; /* Light green for nav item */
            border-radius: 8px;
            padding: 0.5rem 0.75rem; /* Add padding to the highlighted link */
        }
        .dropdown-item-highlight {
            background-color: #bfdbfe; /* Light blue for dropdown item */
            border-radius: 4px;
        }
    </style>
</head>
<body id="page-top">
    <!-- Navigation (Copied from index.html for consistency) -->
    <nav class="navbar fixed-top py-3" id="mainNav"> 
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a class="navbar-brand text-2xl font-bold" href="index.html">You Can Visit</a>
            
            <!-- Search Bar -->
            <div class="search-container relative flex items-center ml-4">
                <input type="text" id="searchInput" placeholder="Search..." class="form-control rounded-full py-2 px-4 pr-18 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm w-full lg:w-48">
                <button id="searchActionButton" class="absolute right-0 top-0 mt-2 mr-3 text-gray-600 hover:text-green-700 focus:outline-none flex items-center justify-center">
                    <i class="fas fa-search" id="searchIcon"></i>
                    <i class="fas fa-times hidden" id="clearSearchIcon"></i>
                    <div id="loadingSpinner" class="hidden spinner"></div>
                </button>
            </div>

            <!-- Navbar Toggler for mobile -->
            <button class="navbar-toggler lg:hidden focus:outline-none ml-4" type="button" onclick="toggleNavbar()">
                <i class="fas fa-bars text-3xl text-gray-700"></i>
            </button>

            <div class="hidden lg:flex items-center w-auto" id="navbarResponsive"> 
                <ul class="navbar-nav flex space-x-4 ml-auto"> 
                    <li class="nav-item"><a class="nav-link py-2 px-3 block" href="About.html">About</a></li>
                    
                    <!-- First Column of Dropdowns -->
                    <ul class="navbar-nav flex lg:space-x-4 lg:ml-auto">
                        <!-- Portfolio Dropdown -->
                        <li class="nav-item relative group">
                            <a class="nav-link py-2 px-3 block cursor-pointer" onclick="toggleDropdown('portfolioDropdown')">Portfolio <i class="fas fa-caret-down ml-1"></i></a>
                            <div id="portfolioDropdown" class="dropdown-menu hidden">
                                <a href="portfolio.html#projects" class="flex items-center"><i class="fas fa-project-diagram mr-2 text-blue-600"></i>Projects</a>
                                <a href="portfolio.html#achievements" class="flex items-center"><i class="fas fa-trophy mr-2 text-yellow-600"></i>Achievements</a>
                                <a href="portfolio.html#skills" class="flex items-center"><i class="fas fa-code mr-2 text-red-600"></i>Skills</a>
                                <a href="portfolio.html#gallery" class="flex items-center"><i class="fas fa-images mr-2 text-purple-600"></i>Gallery</a>
                            </div>
                        </li>

                        <!-- Social Engagement Dropdown - Now a dropdown -->
                        <li class="nav-item relative group">
                            <a class="nav-link py-2 px-3 block cursor-pointer" onclick="toggleDropdown('socialEngagementDropdown')">Social Engagement <i class="fas fa-caret-down ml-1"></i></a>
                            <div id="socialEngagementDropdown" class="dropdown-menu hidden">
                                <a href="#" class="flex items-center"><i class="fas fa-graduation-cap mr-2 text-green-700"></i>गलकोट बहुमुखी क्याम्पस: निवर्तमान अध्यक्ष (स्वतन्त्र विद्यार्थी युनियन)</a>
                                <a href="#" class="flex items-center"><i class="fas fa-users mr-2 text-blue-700"></i>निजामती कर्मचारी युनियन: गलकोट सदस्य</a>
                                <a href="#" class="flex items-center"><i class="fas fa-running mr-2 text-purple-700"></i>जनजागृति युवा क्लब: सहसचिव</a>
                                <a href="#" class="flex items-center"><i class="fas fa-hand-holding-heart mr-2 text-orange-700"></i>लायन्स क्लब अफ गलकोट घुम्टे: Charter Member</a>
                                <a href="#" class="flex items-center"><i class="fas fa-globe-americas mr-2 text-red-700"></i>रोट्र्याक्ट क्लब अफ गलकोट बागलुङ: International Development Chair</a>
                                <a href="#" class="flex items-center"><i class="fas fa-flag mr-2 text-indigo-700"></i>नेपाली काँग्रेस: क्रियाशिल सदस्य</a>
                            </div>
                        </li>
                
                        <!-- Trading Dropdown -->
                        <li class="nav-item relative group">
                            <a class="nav-link py-2 px-3 block cursor-pointer" onclick="toggleDropdown('tradingDropdown')">Trading <i class="fas fa-caret-down ml-1"></i></a>
                            <div id="tradingDropdown" class="dropdown-menu hidden">
                                <a href="https://meroshare.cdsc.com.np/" target="_blank" class="flex items-center"><i class="fas fa-chart-line mr-2 text-green-600"></i>MeroShare</a>
                                <a href="https://www.nepalstock.com.np/" target="_blank" class="flex items-center"><i class="fas fa-chart-area mr-2 text-red-600"></i>NEPSE</a>
                            </div>
                        </li>
                    </ul>
                    <!-- Second Column of Dropdowns -->
                    <ul class="navbar-nav flex lg:space-x-4 lg:ml-auto">
                        <!-- Wallet Dropdown -->
                        <li class="nav-item relative group">
                            <a class="nav-link py-2 px-3 block cursor-pointer" onclick="toggleDropdown('walletDropdown')">Banking and Wallet service <i class="fas fa-caret-down ml-1"></i></a> <a href="wallet.html" class="flex items-center"><i class="fas fa-user-tie bank-atm-2 text-purple-600"></i></a>
                            <div id="walletDropdown" class="dropdown-menu hidden">
                               </i></a>

                            </div>
                        </li>
                        <!-- Government Uses sites Dropdown -->
                        <li class="nav-item relative group">
                            <a class="nav-link py-2 px-3 block cursor-pointer" onclick="toggleDropdown('governmentSitesDropdown')">Government Uses sites <i class="fas fa-caret-down ml-1"></i></a>
                            <div id="governmentSitesDropdown" class="dropdown-menu hidden"> 
                                <a href="e-services" class="flex items-center"><i class="fas fa-earth mr-2 text-blue-600"></i>विद्युतिय सेवाहरु</a>
                                <a href="https://sutra.fcgo.gov.np/newpamsv2" target="_blank" class="flex items-center"><i class="fas fa-globe mr-2 text-indigo-600"></i>सूत्र (Sutra)</a>
                                <a href="https://ipfms.fcgo.gov.np" target="_blank" class="flex items-center"><i class="fas fa-building mr-2 text-green-600"></i>IPFMS</a>
                                <a href="https://newpams.fcgo.gov.np/#/Login" target="_blank" class="flex items-center"><i class="fas fa-sign-in-alt mr-2 text-blue-500"></i>New PAMS Login</a>
                                
                            </div>
                        </li>
                        <!-- Important Links Dropdown -->
                        <li class="nav-item relative group">
                            <a class="nav-link py-2 px-3 block cursor-pointer" onclick="toggleDropdown('importantLinksDropdown')">Important Links <i class="fas fa-caret-down ml-1"></i></a>
                            <div id="importantLinksDropdown" class="dropdown-menu hidden">
                                <a href="link.html" class="flex items-center"><i class="fas fa-briefcase mr-2 text-blue-600"></i>आवश्यक पोर्टलहरू</a>
                                <a href="edu.html" class="flex items-center"><i class="fas fa-book mr-2 text-yellow-600"></i>शिक्षा सम्बन्धित पोर्टलहरू</a>
                                <a href="finance.html" class="flex items-center"><i class="fas fa-coins mr-2 text-orange-600"></i>वित्तीय सेवाहरू</a>
                                <a href="health.html" class="flex items-center"><i class="fas fa-plus-circle mr-2 text-red-600"></i>स्वास्थ्य सम्बन्धित पोर्टलहरू</a>
                                <a href="karmachari.html" class="flex items-center"><i class="fas fa-user-tie mr-2 text-purple-600"></i>शिक्षक कर्मचारी पोर्टल</a>
                                <a href="bi.html" class="flex items-center"><i class="fas fa-building mr-2 text-indigo-600"></i>बैँक, विमा कम्पनी तथा पुनर्विमा कम्पनीहरु</a>
                            </div>
                        </li>
                
                        <!-- Direct Contact Dropdown -->
                        <li class="nav-item relative group">
                            <a class="nav-link py-2 px-3 block cursor-pointer" onclick="toggleDropdown('directContactDropdown')">Direct Contact <i class="fas fa-caret-down ml-1"></i></a>
                            <div id="directContactDropdown" class="dropdown-menu hidden">
                                <a href="tel:+9779869065252" class="flex items-center"><i class="fas fa-phone mr-2 text-green-500"></i>+977 9869065252</a>
                                <a href="mailto:lokendra.gaire.70@gmail.com" class="flex items-center"><i class="fas fa-envelope mr-2 text-red-500"></i>lokendra.gaire.70@gmail.com</a>
                                <a href="https://maps.google.com/?q=Galkot+Municipality-2,+Baglung,+Nepal" target="_blank" class="flex items-center"><i class="fas fa-map-marker-alt mr-2 text-blue-500"></i>Galkot Municipality-2, Baglung</a>
                            </div>
                        </li>
                    </ul>
                </ul>
            </div>
        </div>
    </nav
    <!-- Masthead (Hero Section) - Copied from index.html -->
    <header class="masthead relative">
        <div class="container mx-auto px-4 flex flex-col lg:flex-row items-center justify-center lg:justify-start relative z-20">
            <div class="masthead-content text-center lg:text-left lg:w-1/2 p-4 lg:p-8">
                <h2 class="text-xl mb-2">WELCOME TO MY WORLD</h2>
                <h1 class="masthead-heading text-uppercase font-bold mb-2">Hi, I'm Lokendra Gaire</h1>
                <h2 class="masthead-subheading font-bold text-black">MIS Operator</h2>
                <h2 class="masthead-heading text-uppercase font-bold mb-2 text-blue-500">Head of Department</h2>
                <p class="masthead-bio mt-4 text-white">
                    Social Security and Vital Registration Department <br> Galkot Municipality Office <br> Galkot, Baglung, Nepal
                </p>
            </div>
        </div>
    </header>

    <main>
        <!-- Social Media Links Section -->
        <section class="page-section text-center py-8">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold mb-6 text-gray-800">Find me on social media</h2>
                <div class="flex flex-wrap justify-center gap-4">
                    <a class="btn-social btn-youtube" href="https://www.youtube.com/@lokendragaire70" target="_blank" aria-label="YouTube">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a class="btn-social btn-facebook" href="https://www.facebook.com/lokendragaire70" target="_blank" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a class="btn-social btn-tiktok" href="https://www.tiktok.com/@lokendragaire70" target="_blank" aria-label="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a class="btn-social btn-linkedin" href="https://www.linkedin.com/in/lokendra-gaire-70b1b1275/" target="_blank" aria-label="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a class="btn-social btn-telegram" href="https://t.me/lokendragaire70" target="_blank" aria-label="Telegram">
                        <i class="fab fa-telegram-plane"></i>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer (Copied from index.html for consistency) -->
    <footer class="footer py-2">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap justify-center text-center">
                <div class="w-full lg:w-1/2 mb-4 lg:mb-0">
                    <h4 class="text-uppercase mb-2">Location</h4>
                    <p class="lead text-sm text-gray-700">
                        Galkot Municipality Office
                        <br />
                        Galkot, Baglung, Nepal
                    </p>
                    <div class="mt-4"> 
                        <a href="https://www.google.com/maps/search/Galkot+Municipality-2,+Baglung,+Nepal" target="_blank" title="View Galkot Municipality on Google Maps">
                            <img src="image_f958e4.png" alt="Map of Galkot Municipality-2, Baglung" class="mx-auto rounded-lg shadow-md" style="max-width: 300px;">
                        </a>
                        <p class="text-xs text-gray-600 mt-2">Click the map to view location on Google Maps.</p>
                    </div>
                </div>
                <div class="w-full lg:w-1/2">
                    <h4 class="text-uppercase mb-2">Website Description</h4>
                    <p class="lead text-sm text-gray-700">A personal website to showcase my professional and social journey.</p>
                </div>
            </div>
        </div>
    </footer>
    <div class="copyright py-2 text-center text-gray-700">
        <div class="container mx-auto"><small>Copyright © Lokendra Gaire 2024</small></div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // JavaScript for toggling the dropdown menu
        function toggleDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            const allDropdowns = document.getElementsByClassName("dropdown-menu");

            // Close all other dropdowns
            for (let i = 0; i < allDropdowns.length; i++) {
                let openDropdown = allDropdowns[i];
                if (openDropdown.id !== dropdownId && !openDropdown.classList.contains('hidden')) {
                    openDropdown.classList.add('hidden');
                }
            }

            // Toggle the clicked dropdown
            dropdown.classList.toggle("hidden");
        }

        // JavaScript for toggling the main navbar on mobile
        function toggleNavbar() {
            const navbar = document.getElementById("navbarResponsive");
            navbar.classList.toggle("hidden");
            navbar.classList.toggle("flex"); // Toggle flex to show/hide
            navbar.classList.toggle("flex-col"); // Ensure vertical stacking when open
        }

        // Get references to search elements and spinner
        const searchInput = document.getElementById('searchInput');
        const searchActionButton = document.getElementById('searchActionButton');
        const searchIcon = document.getElementById('searchIcon');
        const clearSearchIcon = document.getElementById('clearSearchIcon');
        const loadingSpinner = document.getElementById('loadingSpinner');

        // Function to show/hide spinner
        function showSpinner() {
            searchIcon.classList.add('hidden');
            clearSearchIcon.classList.add('hidden'); // Hide clear icon if showing
            loadingSpinner.classList.remove('hidden');
        }

        function hideSpinner() {
            loadingSpinner.classList.add('hidden');
            // Decide whether to show search icon or clear icon based on input value
            if (searchInput.value.length > 0) {
                clearSearchIcon.classList.remove('hidden');
            } else {
                searchIcon.classList.remove('hidden');
            }
        }

        // Function to remove all existing highlights (general text)
        function removeTextHighlights() {
            const highlights = document.querySelectorAll('.highlight');
            highlights.forEach(span => {
                const parent = span.parentNode;
                // Replace the span with its text content
                parent.replaceChild(document.createTextNode(span.textContent), span);
                parent.normalize(); // Merge adjacent text nodes
            });
        }

        // Function to remove nav and dropdown item highlights
        function removeNavHighlights() {
            document.querySelectorAll('#navbarResponsive .nav-link.nav-item-highlight').forEach(el => el.classList.remove('nav-item-highlight'));
            document.querySelectorAll('.dropdown-item-highlight').forEach(el => el.classList.remove('dropdown-item-highlight'));
            // Also ensure all dropdowns are closed when clearing highlights, unless a search specifically opens them
            const allDropdowns = document.getElementsByClassName("dropdown-menu");
            for (let i = 0; i < allDropdowns.length; i++) {
                allDropdowns[i].classList.add('hidden');
            }
        }
        // Combined search and highlight function
        function performSearchAndHighlight(query) {
            showSpinner();
            removeTextHighlights(); // Clear general text highlights
            removeNavHighlights(); // Clear nav/dropdown highlights

            if (!query) {
                hideSpinner();
                return;
            }

            const regex = new RegExp(query, 'gi'); // Case-insensitive global search

            // 1. Highlight main content (excluding navbar)
            function highlightNode(node) {
                if (node.nodeType === Node.TEXT_NODE) {
                    const parentTagName = node.parentNode.tagName;
                    if (parentTagName !== 'SCRIPT' && parentTagName !== 'STYLE') {
                        const match = node.nodeValue.match(regex);
                        if (match) {
                            const fragment = document.createDocumentFragment();
                            let lastIndex = 0;
                            node.nodeValue.replace(regex, (match, offset) => {
                                fragment.appendChild(document.createTextNode(node.nodeValue.substring(lastIndex, offset)));
                                const span = document.createElement('span');
                                span.className = 'highlight';
                                span.textContent = match;
                                fragment.appendChild(span);
                                lastIndex = offset + match.length;
                                return match;
                            });
                            fragment.appendChild(document.createTextNode(node.nodeValue.substring(lastIndex)));
                            node.parentNode.replaceChild(fragment, node);
                        }
                    }
                } else if (node.nodeType === Node.ELEMENT_NODE) {
                    if (node.tagName !== 'SCRIPT' && node.tagName !== 'STYLE' && node.tagName !== 'NOSCRIPT' && node.id !== 'mainNav') { // Exclude mainNav from general content search
                        for (let i = 0; i < node.childNodes.length; i++) {
                            highlightNode(node.childNodes[i]);
                        }
                    }
                }
            }
            highlightNode(document.body); // Start from body

            // 2. Highlight Nav Items and Dropdown Items specifically
            const navItems = document.querySelectorAll('#navbarResponsive .nav-item');
            navItems.forEach(navItem => {
                const navLink = navItem.querySelector('.nav-link');
                const dropdownMenu = navItem.querySelector('.dropdown-menu');
                let navItemMatched = false;

                // Get only the text content of the navLink, excluding child elements like the icon
                let navLinkText = '';
                if (navLink) {
                    for (let child of navLink.childNodes) {
                        if (child.nodeType === Node.TEXT_NODE) {
                            navLinkText += child.nodeValue;
                        }
                    }
                }

                if (navLinkText.match(regex)) {
                    navLink.classList.add('nav-item-highlight');
                    navItemMatched = true;
                }

                // Check dropdown items if it's a dropdown
                if (dropdownMenu) {
                    const dropdownLinks = dropdownMenu.querySelectorAll('a');
                    dropdownLinks.forEach(dropdownLink => {
                        if (dropdownLink.textContent.match(regex)) {
                            dropdownLink.classList.add('dropdown-item-highlight');
                            // Ensure parent dropdown is open
                            dropdownMenu.classList.remove('hidden');
                            // Highlight the parent nav item if not already
                            if (!navItemMatched) {
                                navLink.classList.add('nav-item-highlight');
                            }
                        }
                    });
                }
            });

            // Highlight the social media section links (only the remaining ones)
            const socialLinksSection = document.querySelector('main .page-section .flex.flex-wrap');
            if (socialLinksSection) {
                const socialLinks = socialLinksSection.querySelectorAll('a');
                socialLinks.forEach(link => {
                    if (link.textContent.match(regex) || (link.getAttribute('aria-label') && link.getAttribute('aria-label').match(regex))) {
                        link.classList.add('highlight'); // Use general highlight for these buttons
                    }
                });
            }


            setTimeout(() => {
                hideSpinner();
            }, 50); // Small delay to show spinner
        }

        // Function to clear search and highlights
        function clearSearch() {
            searchInput.value = '';
            removeTextHighlights();
            removeNavHighlights(); // Clear nav and dropdown highlights
            // Also remove highlights from social media section
            document.querySelectorAll('main .page-section .flex.flex-wrap .highlight').forEach(el => el.classList.remove('highlight'));
            clearSearchIcon.classList.add('hidden');
            searchIcon.classList.remove('hidden');
        }

        // Event listener for search action button click
        searchActionButton.addEventListener('click', () => {
            if (clearSearchIcon.classList.contains('hidden')) { // If search icon is visible, perform search
                performSearchAndHighlight(searchInput.value);
            } else { // If clear icon is visible, clear search
                clearSearch();
            }
        });

        // Event listener for Enter key in search input
        searchInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                performSearchAndHighlight(searchInput.value);
            }
        });

        // Event listener for input changes to show/hide clear icon
        searchInput.addEventListener('input', () => {
            if (searchInput.value.length > 0) {
                searchIcon.classList.add('hidden');
                clearSearchIcon.classList.remove('hidden');
            } else {
                searchIcon.classList.remove('hidden');
                clearSearchIcon.classList.add('hidden');
                removeTextHighlights(); // Also remove highlights when input is cleared manually
                removeNavHighlights(); // Clear nav and dropdown highlights when input is cleared
                // Also remove highlights from social media section when input is cleared
                document.querySelectorAll('main .page-section .flex.flex-wrap .highlight').forEach(el => el.classList.remove('highlight'));
            }
        });

        // Close dropdowns and navbar if the user clicks outside of them
        window.onclick = function(event) {
            // Close dropdowns
            if (!event.target.matches('.nav-link') && !event.target.closest('.dropdown-menu') && !event.target.closest('.search-container')) {
                const dropdowns = document.getElementsByClassName("dropdown-menu");
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (!openDropdown.classList.contains('hidden')) {
                        openDropdown.classList.add('hidden');
                    }
                }
                // Also remove nav/dropdown highlights if clicking outside
                removeNavHighlights();
            }

            // Close navbar if click is outside navbar and it's open
            const navbar = document.getElementById("mainNav");
            const navbarResponsive = document.getElementById("navbarResponsive");
            const navbarToggler = document.querySelector('.navbar-toggler');
            const searchContainer = document.querySelector('.search-container');

            if (!navbar.contains(event.target) && !navbarToggler.contains(event.target) && !searchContainer.contains(event.target)) {
                if (!navbarResponsive.classList.contains('hidden')) {
                    navbarResponsive.classList.add('hidden');
                    navbarResponsive.classList.remove('flex', 'flex-col');
                }
            }
        }
    </script>
</body>
</html>
